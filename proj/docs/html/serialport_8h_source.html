<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Air Hockey: src/controller/serialport/serialport.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Air Hockey<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('serialport_8h_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">serialport.h</div></div>
</div><!--header-->
<div class="contents">
<a href="serialport_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;lcom/lcf.h&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="queue_8h.html">queue.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="model_8h.html">model/model.h</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;minix/sysutil.h&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno"><a class="line" href="serialport_8h.html#a20a6563afa70e1617dfbd445a1fe26df">   10</a></span><span class="preprocessor">#define BASE_ADDR_COM1 0x3F8</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno"><a class="line" href="serialport_8h.html#ab9e0b6294c106564821ce1a819e9e6ba">   12</a></span><span class="preprocessor">#define SPMASK BIT(4) </span><span class="comment">//serial port interrupt mask</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno"><a class="line" href="serialport_8h.html#a851cb396b6eaa97346364a772b439f37">   14</a></span><span class="preprocessor">#define LCR 0x03 </span><span class="comment">//Allows the setting of the main asynchronous communication parameters: number of bits per character, number of stop bits and parity(define os parametros da comunicaçao)</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">/*Dar stup á linha de comunicaçao */</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno"><a class="line" href="serialport_8h.html#ad51d51aee21f6cc77d4955221aee3dcb">   17</a></span><span class="preprocessor">#define LSR 0x05 </span><span class="comment">//Shows the status of the communication line (whether a character was transmitted or received, and in the latter case whether an error was detected)</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">/*mostra o estado da linha*/</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno"><a class="line" href="serialport_8h.html#a3e27fa35f9febccdc4a0c28a5c8cffbb">   20</a></span><span class="preprocessor">#define IER 0x01 </span><span class="comment">//(interrupt enable register) Allows the activation of the different types of interruptions</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">/* permite a ativaçao de diferentes tipos de interrupçoes */</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="serialport_8h.html#a67004975983f9c99226d63db17ba74c4">   23</a></span><span class="preprocessor">#define IIR 0x02 </span><span class="comment">//(interrupt information register) Provides information regarding the event that caused an interrupt</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">/* permite saber informaçao sobre o evento que causou a interrupçao */</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="serialport_8h.html#a4466639cd64ebf372a621168c5e25964">   26</a></span><span class="preprocessor">#define DLL 0x00 </span><span class="comment">//Divisor Latch Low</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">/*Allows the setting of the the bit rate (by means of a frequency divider), via the Divisor Latches of the programmable bit-rate generator*/</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="serialport_8h.html#a3b48b12dc65f62dd40ab1163fe7997fb">   28</a></span><span class="preprocessor">#define DLM 0x01 </span><span class="comment">//Divisor Latch High</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="serialport_8h.html#a264b36b13386e3f62fe69e04711bc006">   31</a></span><span class="preprocessor">#define FCR 0x02 </span><span class="comment">//FIFO Control Register(Allows the control of FIFO buffering)</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span> </div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="serialport_8h.html#a71237a7ce16fe5e7e93308c4c590435e">   33</a></span><span class="preprocessor">#define SP_INTLINE 4</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="serialport_8h.html#aa6f7e7a9f4551d6151f9d45362118a50">   35</a></span><span class="preprocessor">#define RBR 0x00 </span><span class="comment">//receiver buffer register</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="serialport_8h.html#a5e9787adf3c9afcc4b781e85bb545b35">   36</a></span><span class="preprocessor">#define THR 0 </span><span class="comment">//transmitter holding register</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="serialport_8h.html#a25ed431dffc7fdc997b18f7813f16105">   39</a></span><span class="preprocessor">#define LSR_REC_DATA BIT(0)</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="serialport_8h.html#a3684ed231dfce54fdc7e7807deb7bc4a">   40</a></span><span class="preprocessor">#define LSR_OVERRUN_ERR BIT(1)</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="serialport_8h.html#a7888b4b4497920e3c61df39361383a80">   41</a></span><span class="preprocessor">#define LSR_PARITY_ERR BIT(2)</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="serialport_8h.html#a8272ae26fb286f954ff0f640b5dd8163">   42</a></span><span class="preprocessor">#define LSR_FRAME_ERR BIT(3)</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="serialport_8h.html#ac5cf815bb180da24505a7086782543de">   43</a></span><span class="preprocessor">#define LSR_BREAK_INT BIT(4)</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="serialport_8h.html#a764c6e57c1e4f6b57460b5574969ca81">   44</a></span><span class="preprocessor">#define LSR_THR_EMPTY BIT(5) </span><span class="comment">//when UARt is ready to transmit a new character to transmite</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="serialport_8h.html#a2bdc20b74b859427f7bbff94402187ab">   45</a></span><span class="preprocessor">#define LSR_TRANS_HOLD_EMPTY BIT(6) </span><span class="comment">//when THR(transmitter holding register) and TSR(transmitter shift register) are empty</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="serialport_8h.html#a495955cda89f49f7dfa09f1a50b303bd">   46</a></span><span class="preprocessor">#define LSR_FIFO_ERR BIT(7) </span><span class="comment">//when there is an error in the FIFO </span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">//Bits 0 and 4 are reseted when the LSR is read</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="serialport_8h.html#a9f25bb6cf9bb20a7f73aa4c370ed3274">   50</a></span><span class="preprocessor">#define IER_REC_DATA BIT(0) </span><span class="comment">//enables the reception of data</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="serialport_8h.html#a9fc5a384ad88f7d75545e934400c99e2">   51</a></span><span class="preprocessor">#define IER_THR_EMPTY BIT(1) </span><span class="comment">//enables the transmission holding register empty interrupt</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="serialport_8h.html#a3f1c8bfc90d48dfe91afd4165194f80b">   52</a></span><span class="preprocessor">#define IER_REC_LINE_STATUS BIT(2) </span><span class="comment">//enables the receiver line status interrupt This event is generated when there is a change in the state of bits 1 to 4, i.e.the error bits, of the LSR</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="serialport_8h.html#ae67c29f545509fc61b4ddfa526fea716">   53</a></span><span class="preprocessor">#define IER_MODEM_STATUS BIT(3) </span><span class="comment">//enables the modem status interrupt</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="serialport_8h.html#aa8222bc0fdd513fdcaf25949bde754a2">   56</a></span><span class="preprocessor">#define IIR_INT_PEND BIT(0) </span><span class="comment">//if set no interrupt is pending</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="serialport_8h.html#a4f4e7fb0a8f5a7251eeeeab1dd8568a1">   57</a></span><span class="preprocessor">#define IIR_INT_ID BIT(2) </span><span class="comment">//received data available</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="serialport_8h.html#a03db7def835d2e60f1cc7470bdf35b08">   58</a></span><span class="preprocessor">#define IIR_RLS BIT(1) | BIT(2) </span><span class="comment">//Receiver Line Status</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="serialport_8h.html#aa16869b019be11852be6c175a29f64ce">   59</a></span><span class="preprocessor">#define IIR_THR_EMPTY BIT(1) </span><span class="comment">//Transmitter Holding Register Empty</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="serialport_8h.html#a5ab0dd570adb416ffc4465c9a936bb09">   60</a></span><span class="preprocessor">#define IIR_CHAR_TIMEOUT BIT(3) | BIT(2) </span><span class="comment">//Character Timeout</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="serialport_8h.html#a40c58e2b904b2169ad269e2cd51a328d">   61</a></span><span class="preprocessor">#define IIR_INT_ORIGIN BIT(3) | BIT(2) | BIT(1) </span><span class="comment">// Bits that hold interrupt identification</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">//need to subscribe UART interrupts in exclusive mode</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="serialport_8h.html#ab913b6d872443246c86605c8f012bfcf">   65</a></span><span class="preprocessor">#define FCR_ENABLE BIT(0) </span><span class="comment">//enables both FIFOs</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="serialport_8h.html#a2e0042380f0e101eba17c6126fdbe4ef">   66</a></span><span class="preprocessor">#define FCR_CLEAR_RECEIVE BIT(1) </span><span class="comment">//clears the contents of the receiver FIFO</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="serialport_8h.html#a185f6e998721e2ea2af3920264f6f13e">   67</a></span><span class="preprocessor">#define FCR_CLEAR_XMIT BIT(2) </span><span class="comment">//clears the contents of the transmitter FIFO</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="serialport_8h.html#a1f2d65d238d93e2978e1b1e8c81c0258">   68</a></span><span class="preprocessor">#define FCR_ENABLE_64 BIT(5) </span><span class="comment">//enables 64-byte FIFO</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">/* Special Signals */</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="serialport_8h.html#a93dbb687947507fbdc3ed683c6eb4ce2">   71</a></span><span class="preprocessor">#define signal1 0x1000</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="serialport_8h.html#abe9e1aaaa0a649dcb22e1069bff49a58">   72</a></span><span class="preprocessor">#define ball_signal 0x2000</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">/*</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment">UART REGISTERS</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment"></span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment">RBR register to read the characters received from the serial port</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">THR register to write characters to be transmitted</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">LSR register to check the status of the serial port</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">IER register to enable or disable the different types of interruptions</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">DDL(Divisor Latch Least) significant byte(LSB of clock divisor for setting the bit-rate)</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">DLM(Divisor Latch Most) significant byte(MSB of clock divisor for setting the bit-rate)</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">DL(Divisor Latch)  register is a 16-bit register that contains the divisor for setting the bit-rate of the UART</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment"></span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment"></span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">Both ends must agree on the communication parameters, such as the number of bits per character, the number of stop bits, and the parity bit. These parameters are set by the LCR register</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">*/</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>int (<a class="code hl_function" href="serialport_8h.html#a3f915f264c3f82e6f56ff49abd30092d">sp_subscribe_int</a>)();</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>int (<a class="code hl_function" href="serialport_8h.html#ad9cfa399df9032ec99f760195d457e9a">sp_unsubscribe_int</a>)();</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>void (<a class="code hl_function" href="serialport_8h.html#af6cc263493df7caac7bd7d0be6b50635">sp_ih</a>)();</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>int (<a class="code hl_function" href="serialport_8h.html#ad253b4791128254e78fa90f001947540">read_char</a>)();</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>int (<a class="code hl_function" href="serialport_8h.html#a64d15f0866ad6bb4d73316fa3ff6976c">send_char</a>)(uint8_t data);</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>int (<a class="code hl_function" href="serialport_8h.html#ae921a93c49a8221ba5d28d57874ff57d">serialPort_init</a>)();</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>int (<a class="code hl_function" href="serialport_8h.html#a5dcbe1766f33aef62ae17874467a0ff2">serialPort_exit</a>)();</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>int (<a class="code hl_function" href="serialport_8h.html#a29aeb04007d38927a70893676a01f17a">serialPort_resetFIFO</a>)();</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>void (<a class="code hl_function" href="serialport_8h.html#a30790fb5b1c1da21786179413757982f">transmit_puck_change</a>)(<a class="code hl_struct" href="struct_sprite.html">Sprite</a>* <a class="code hl_variable" href="serialport_8c.html#aefde906c9db5303b03b808fed5e5194c">bluepuck</a>, <span class="keywordtype">int</span>* <a class="code hl_variable" href="model_8c.html#adb1fe2478da6bf69916ffca0f10d04ba">previous_x</a>, <span class="keywordtype">int</span>* <a class="code hl_variable" href="model_8c.html#a88e3619d66b4df856a7896703d1a7b83">previous_y</a>);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>void (<a class="code hl_function" href="serialport_8h.html#ab0feb7ea55bef08d4f3c1a1148b26281">transmit_ball_speed</a>)(<span class="keywordtype">int</span> xspeed, <span class="keywordtype">int</span> yspeed);</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>void (<a class="code hl_function" href="serialport_8h.html#a905d75c52dea0fd60154fdfbc1177f15">send_signal</a>)(uint16_t signal);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>int (<a class="code hl_function" href="serialport_8h.html#aabe5645e9e3cc6c7ea27a90779ab1e4a">read_next_signal</a>)(uint16_t* character);</div>
<div class="ttc" id="amodel_8c_html_a88e3619d66b4df856a7896703d1a7b83"><div class="ttname"><a href="model_8c.html#a88e3619d66b4df856a7896703d1a7b83">previous_y</a></div><div class="ttdeci">int previous_y</div><div class="ttdef"><b>Definition</b> model.c:22</div></div>
<div class="ttc" id="amodel_8c_html_adb1fe2478da6bf69916ffca0f10d04ba"><div class="ttname"><a href="model_8c.html#adb1fe2478da6bf69916ffca0f10d04ba">previous_x</a></div><div class="ttdeci">int previous_x</div><div class="ttdef"><b>Definition</b> model.c:21</div></div>
<div class="ttc" id="amodel_8h_html"><div class="ttname"><a href="model_8h.html">model.h</a></div></div>
<div class="ttc" id="aqueue_8h_html"><div class="ttname"><a href="queue_8h.html">queue.h</a></div></div>
<div class="ttc" id="aserialport_8c_html_aefde906c9db5303b03b808fed5e5194c"><div class="ttname"><a href="serialport_8c.html#aefde906c9db5303b03b808fed5e5194c">bluepuck</a></div><div class="ttdeci">Sprite * bluepuck</div><div class="ttdef"><b>Definition</b> model.h:72</div></div>
<div class="ttc" id="aserialport_8h_html_a29aeb04007d38927a70893676a01f17a"><div class="ttname"><a href="serialport_8h.html#a29aeb04007d38927a70893676a01f17a">serialPort_resetFIFO</a></div><div class="ttdeci">int serialPort_resetFIFO()</div><div class="ttdoc">Clears and enables FIFO.</div><div class="ttdef"><b>Definition</b> serialport.c:99</div></div>
<div class="ttc" id="aserialport_8h_html_a30790fb5b1c1da21786179413757982f"><div class="ttname"><a href="serialport_8h.html#a30790fb5b1c1da21786179413757982f">transmit_puck_change</a></div><div class="ttdeci">void transmit_puck_change(Sprite *bluepuck, int *previous_x, int *previous_y)</div><div class="ttdoc">Transmits 4 bytes with info on the displacement of a puck.</div><div class="ttdef"><b>Definition</b> serialport.c:107</div></div>
<div class="ttc" id="aserialport_8h_html_a3f915f264c3f82e6f56ff49abd30092d"><div class="ttname"><a href="serialport_8h.html#a3f915f264c3f82e6f56ff49abd30092d">sp_subscribe_int</a></div><div class="ttdeci">int sp_subscribe_int()</div><div class="ttdoc">Subscribes to serial port interrupts.</div><div class="ttdef"><b>Definition</b> serialport.c:12</div></div>
<div class="ttc" id="aserialport_8h_html_a5dcbe1766f33aef62ae17874467a0ff2"><div class="ttname"><a href="serialport_8h.html#a5dcbe1766f33aef62ae17874467a0ff2">serialPort_exit</a></div><div class="ttdeci">int serialPort_exit()</div><div class="ttdoc">Destroys associated queue.</div><div class="ttdef"><b>Definition</b> serialport.c:94</div></div>
<div class="ttc" id="aserialport_8h_html_a64d15f0866ad6bb4d73316fa3ff6976c"><div class="ttname"><a href="serialport_8h.html#a64d15f0866ad6bb4d73316fa3ff6976c">send_char</a></div><div class="ttdeci">int send_char(uint8_t data)</div><div class="ttdoc">Send a character to the transmission FIFO.</div><div class="ttdef"><b>Definition</b> serialport.c:56</div></div>
<div class="ttc" id="aserialport_8h_html_a905d75c52dea0fd60154fdfbc1177f15"><div class="ttname"><a href="serialport_8h.html#a905d75c52dea0fd60154fdfbc1177f15">send_signal</a></div><div class="ttdeci">void send_signal(uint16_t signal)</div><div class="ttdoc">Transmits a 2 bytes header.</div><div class="ttdef"><b>Definition</b> serialport.c:126</div></div>
<div class="ttc" id="aserialport_8h_html_aabe5645e9e3cc6c7ea27a90779ab1e4a"><div class="ttname"><a href="serialport_8h.html#aabe5645e9e3cc6c7ea27a90779ab1e4a">read_next_signal</a></div><div class="ttdeci">int read_next_signal(uint16_t *character)</div><div class="ttdoc">Reads the next 2 bytes of the queue if they are available.</div><div class="ttdef"><b>Definition</b> serialport.c:134</div></div>
<div class="ttc" id="aserialport_8h_html_ab0feb7ea55bef08d4f3c1a1148b26281"><div class="ttname"><a href="serialport_8h.html#ab0feb7ea55bef08d4f3c1a1148b26281">transmit_ball_speed</a></div><div class="ttdeci">void transmit_ball_speed(int xspeed, int yspeed)</div><div class="ttdoc">Transmits 3 bytes with current speed of the ball object (the first byte sent is a header)</div><div class="ttdef"><b>Definition</b> serialport.c:119</div></div>
<div class="ttc" id="aserialport_8h_html_ad253b4791128254e78fa90f001947540"><div class="ttname"><a href="serialport_8h.html#ad253b4791128254e78fa90f001947540">read_char</a></div><div class="ttdeci">int read_char()</div><div class="ttdoc">Reads the character in the front of the Receiving FIFO and places it in the queue.</div><div class="ttdef"><b>Definition</b> serialport.c:32</div></div>
<div class="ttc" id="aserialport_8h_html_ad9cfa399df9032ec99f760195d457e9a"><div class="ttname"><a href="serialport_8h.html#ad9cfa399df9032ec99f760195d457e9a">sp_unsubscribe_int</a></div><div class="ttdeci">int sp_unsubscribe_int()</div><div class="ttdoc">Unsubscribes to serial port interrupts.</div><div class="ttdef"><b>Definition</b> serialport.c:16</div></div>
<div class="ttc" id="aserialport_8h_html_ae921a93c49a8221ba5d28d57874ff57d"><div class="ttname"><a href="serialport_8h.html#ae921a93c49a8221ba5d28d57874ff57d">serialPort_init</a></div><div class="ttdeci">int serialPort_init()</div><div class="ttdoc">Enables reception of data, clears and enables FIFO and creates associated queue.</div><div class="ttdef"><b>Definition</b> serialport.c:78</div></div>
<div class="ttc" id="aserialport_8h_html_af6cc263493df7caac7bd7d0be6b50635"><div class="ttname"><a href="serialport_8h.html#af6cc263493df7caac7bd7d0be6b50635">sp_ih</a></div><div class="ttdeci">void sp_ih()</div><div class="ttdoc">Reads every character currently available in the UART FIFO.</div><div class="ttdef"><b>Definition</b> serialport.c:20</div></div>
<div class="ttc" id="astruct_sprite_html"><div class="ttname"><a href="struct_sprite.html">Sprite</a></div><div class="ttdef"><b>Definition</b> sprites.h:6</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_41ef5d8a90b9cc03a02949a5c062e6f0.html">controller</a></li><li class="navelem"><a class="el" href="dir_ecc59f30879e8a5eeb626aa808434884.html">serialport</a></li><li class="navelem"><a class="el" href="serialport_8h.html">serialport.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
